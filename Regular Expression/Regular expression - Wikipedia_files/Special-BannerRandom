mw.centralNotice.bannerData.preload = function() { var retval = true;
return retval; };mw.centralNotice.insertBanner( {"bannerName":"B14_0101_control_enWW","bannerHtml":"\u003Cscript type=\"text/javascript\"\u003E\n  /* MediaWiki:CentralNotice/Resources/BannerShowHideCountDate.js\n   * Determine if a banner should be hidden or displayed based on the\n   * contents of the cookie named `hide-cookie-name` and that + `-wait`.\n   *\n   * Showing a banner entails that a certain number of impressions have\n   * already occured in a time period.\n   * \n   * hide-cookie-show-count - Number of impressions to show per period\n   * hide-cookie-wait-count - Number of impressions to wait per period\n   * hide-cookie-wait-delay - Number of second in period\n   *\n   * Provides CentralNotice alterImpressionData hook\n   * Banner may be forced if URL parameter force = 1\n   * Counters may be reset if URL parameter reset = 1\n   */\n  (function(mw) {\n    var\n      /** Total number of impressions seen by this user */\n      cookieCount = parseInt($.cookie('centralnotice_bannercount_fr12')) || 0,\n\n      waitData = ($.cookie('centralnotice_bannercount_fr12-wait') || '').split(/[|]/),\n      /** This cycle's count of how many impressions we've waited for */\n      waitCount = parseInt(waitData[0]) || 0,\n      /** Timestamp (ms) until we can show another banner */\n      waitUntil = parseInt(waitData[1]) || 0,\n      /** Number of impressions seen this cycle */\n      waitSeenCount = parseInt(waitData[2]) || 0,\n\n      showLimit = parseInt('1') || 0,\n      waitLimit = parseInt('9') || 0,\n      waitDelay = parseInt('2592000') || 0,\n\n      hideBanner = true,\n      hideReason = null;\n\n    if (window.location.search.match(/\\breset=1/)) {\n      // Reset counters on demand\n      cookieCount = 0;\n      waitCount = 0;\n      waitUntil = 0;\n      waitSeenCount = 0;\n    }\n\n    var\n      pastDate = waitUntil \u003C new Date().getTime(),\n      waitForHideImps = waitCount \u003C waitLimit,\n      waitForShowImps = waitSeenCount \u003C showLimit;\n \n    if (window.location.search.match(/\\bforce=1/)) {\n      hideBanner = false;\n    } else if (!pastDate) {\n      hideReason = 'waitdate';\n      waitCount += 1;\n    } else if (pastDate \u0026\u0026 waitForHideImps) {\n      hideReason = 'waitimps';\n      waitCount += 1;\n    } else if (pastDate \u0026\u0026 !waitForHideImps \u0026\u0026 waitForShowImps) {\n      hideBanner = false;\n      waitSeenCount += 1;\n      cookieCount += 1;\n      \n      if (waitSeenCount \u003E= showLimit) {\n        waitCount = 0;\n        waitSeenCount = 0;\n        waitUntil = new Date().getTime() + (waitDelay * 1000);\n      }\n    } else {\n      hideReason = 'waiterr';\n      waitCount = 0;\n      waitSeenCount = 0;\n      waitUntil = new Date().getTime() + (waitDelay * 1000);\n    }\n    waitData = waitCount + '|' + waitUntil + '|' + waitSeenCount;\n \n    // Finish up and store results\n    $.cookie('centralnotice_bannercount_fr12', cookieCount, { expires: 365, path: '/' });\n    $.cookie('centralnotice_bannercount_fr12-wait', waitData, { expires: 365, path: '/' });\n    mw.centralNotice.bannerData.hideResult = hideBanner;\n    mw.centralNotice.bannerData.hideReason = hideReason;\n    mw.centralNotice.bannerData.cookieCount = cookieCount;\n  })(mediaWiki);\n \n  mediaWiki.centralNotice.bannerData.alterImpressionData = function( impressionData ) {\n    // Returning true from this function indicates the banner was shown\n    if (mw.centralNotice.bannerData.hideReason) {\n      impressionData.reason = mw.centralNotice.bannerData.hideReason;\n    }\n    return !mediaWiki.centralNotice.bannerData.hideResult;\n  };\n\u003C/script\u003E\n\n\u003Cstyle\u003E\n  #centralNotice.collapsed #B14_0101_control_enWW{\n    display: none;\n  }\n  div#B14_0101_control_enWW {\n    display: none;\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    right: 10px;\n    z-index: 9999;\n    background: transparent;\n    font-family: Arial, Helvetica, Verdana, sans-serif;\n    cursor: pointer;\n  }\n\n  div#B14_0101_control_enWW #B14_0101_control_enWW-main {\n    background: #cedff1;\n    padding: 0;\n    width: 100%;\n    border: none;\n    border-spacing: 0; /* because border-collapse hides shadow in IE */\n    box-shadow: 5px 5px 5px #aaa;\n  }\n\n  div#B14_0101_control_enWW #B14_0101_control_enWW-facts p {\n    margin: 0;\n    padding: 10px 10px 10px 40px;\n    background: url(//upload.wikimedia.org/wikipedia/donate/3/37/Information-icon-yellow.png) no-repeat 10px 8px;\n    color: #000;\n    font-size: 17px;\n    line-height: 1.2;\n    font-weight: bold;\n    text-align: justify;\n  }\n  .B14_0101_control_enWW-highlight {\n    background: #fff64c;\n    color: black;\n    padding: 1px 0;\n  }\n\n  #B14_0101_control_enWW-form-wrapper {\n    width: 330px;\n    background: #f5faff;\n    padding: 4px 8px;\n    border-left: 1px solid #a8bedf;\n  }\n  #B14_0101_control_enWW-form {\n    height: 100%;\n    font-size: 14px;\n    font-weight: bold;\n  }\n  #B14_0101_control_enWW-form table {\n    border: none;\n    border-collapse: collapse;\n    width: 100%;\n    height: 100%;\n  }\n  #B14_0101_control_enWW-form td {\n    min-width: 55px;\n    white-space: nowrap;\n    margin: 0;\n    vertical-align: middle;\n    padding: 2px;\n  }\n  #B14_0101_control_enWW-form span label {\n    margin-left: 2px;\n  }\n  #B14_0101_control_enWW-form .amount-options {\n    height: 20%;\n    color: #091d41;\n  }\n  #B14_0101_control_enWW-form .paymentmethod-options td {\n    text-align: center;\n    padding: 12px 4px 8px 4px ;\n  }\n  #B14_0101_control_enWW-form button {\n    display: inline-block;\n    min-width: 110px;\n    min-height: 26px;\n    margin: 0 1px;\n    border: 1px solid #626f90;\n    border-radius: 5px;\n    background: #ffffff;\n    background: -moz-linear-gradient(top, #ffffff 0%, #e5e5e5 100%);\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e5e5e5));\n    background: -webkit-linear-gradient(top, #ffffff 0%,#e5e5e5 100%);\n    background: -o-linear-gradient(top, #ffffff 0%,#e5e5e5 100%);\n    background: -ms-linear-gradient(top, #ffffff 0%,#e5e5e5 100%);\n    background: linear-gradient(to bottom, #ffffff 0%,rgb(240, 240, 240) 100%);\n    box-shadow: 0 1px 1px #eee;\n    color: black;\n    font-size: 12px;\n    font-weight: bold;\n    cursor: pointer;\n  }\n  #B14_0101_control_enWW-form button:hover {\n    color: #0645ad;\n  }\n\n  div#B14_0101_control_enWW span#B14_0101_control_enWW-close {\n    display: block;\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    width: 21px;\n    height: 21px;\n    background: url(//upload.wikimedia.org/wikipedia/donate/2/27/Small-white-close.png) no-repeat center center;\n    background-color: black;\n    cursor: pointer;\n  }\n\n  div#B14_0101_control_enWW p#B14_0101_control_enWW-legal {\n    position: relative;\n    top: -100px;\n    z-index: -10;\n    margin: 0;\n    padding: 10px 40px 5px 40px;\n    background: #cedff1;\n    font-size: 11px;\n    line-height: 1;\n    font-weight: normal;\n  }\n\n  #B14_0101_control_enWW-nag {\n    display: none;\n    position: fixed;\n    top: 6px;\n    left: 10px;\n    background-color: #cedff1;\n    border: 1px solid #bbb;\n    box-shadow: 5px 5px 5px #aaa;\n    padding: 9px;\n    padding-right: 20px;\n    text-align: center;\n    font-weight: normal;\n    opacity: 0.9;\n    zoom: 1; /* trigger hasLayout on old versions of IE */\n  }\n  .B14_0101_control_enWW-nag-link:hover {\n    text-decoration: underline;\n  }\n  .B14_0101_control_enWW-nag-close {\n    position: absolute;\n    top: 0px;\n    right: 4px;\n    z-index: 100;\n    font-size: 13px;\n    color: #666;\n  }\n\u003C/style\u003E\n\n\u003Cdiv id=\"B14_0101_control_enWW\"\u003E\n  \u003Ctable id=\"B14_0101_control_enWW-main\" style=\"height: 100%;\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"B14_0101_control_enWW-facts\"\u003E\n        \u003Cp\u003E\n\u003Ci\u003EDEAR WIKIPEDIA READERS:\u003C/i\u003E To protect our independence, we'll never run ads. We take no government funds. \u003Cspan class=\"B14_0101_control_enWW-highlight\"\u003EWe survive on donations averaging about %AVERAGE%. Now is the time we ask. If everyone reading this right now gave %MINIMUM%, our fundraiser would be done within an hour.\u003C/span\u003E We\u2019re a small non-profit with costs of a top 5 website: servers, staff and programs. Wikipedia is something special. It is like a library or a public park where we can all go to think and learn. If Wikipedia is useful to you, take one minute to keep it online and ad-free another year. \u003Ci\u003EThank you.\u003C/i\u003E\n        \u003C/p\u003E\n      \u003C/td\u003E\n\n      \u003Ctd id=\"B14_0101_control_enWW-form-wrapper\"\u003E       \n        \u003Cstyle\u003E\n/* hide methods which aren't monthly capable when monthly option is selected */\n.form-monthly button.no-monthly {\n  display: none !important;\n}\n\u003C/style\u003E\n\u003Cform id=\"B14_0101_control_enWW-form\" method=\"post\" name=\"paypalcontribution\"\u003E\n  \u003Cinput type=\"hidden\" name=\"utm_medium\" value=\"sitenotice\"\u003E\n  \u003Cinput type=\"hidden\" name=\"utm_campaign\" value=\"C14_enWW_frm_FR\"\u003E\n  \u003Cinput type=\"hidden\" name=\"utm_source\" value=\"B14_0101_control_enWW\"\u003E\n  \u003Cinput type=\"hidden\" name=\"language\" value=\"en\"\u003E\n  \u003Cinput type=\"hidden\" name=\"country\" value=\"US\"\u003E\n  \u003Cinput type=\"hidden\" name=\"currency_code\" id=\"input_currency_code\" value=\"USD\"\u003E\n  \u003Cinput type=\"hidden\" name=\"payment_method\" value=\"\"\u003E\n  \u003Cinput type=\"hidden\" name=\"referrer\" value=\"\"\u003E\n  \u003Cinput type=\"hidden\" name=\"returnto\" value=\"\"\u003E\n  \u003Ctable\u003E\n    \u003Ctr class=\"frequency-options\"\u003E\n      \u003Ctd colspan=\"2\"\u003E\u003Cinput type=\"radio\" name=\"frequency\" id=\"frequency_onetime\" onclick=\"toggleMonthly(false);\" value=\"onetime\" checked=\"true\"\u003E\u003Clabel for=\"frequency_onetime\"\u003EOne-time\u003C/label\u003E\u003C/td\u003E\n      \u003Ctd colspan=\"2\"\u003E\u003Cinput type=\"radio\" name=\"frequency\" id=\"frequency_monthly\" onclick=\"toggleMonthly(true);\" value=\"monthly\"\u003E\u003Clabel for=\"frequency_monthly\"\u003EMonthly*\u003C/label\u003E\u003C/td\u003E\n    \u003C/tr\u003E\n    \u003Ctr class=\"amount-options\"\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_0\" onclick=\"document.paypalcontribution.amountGiven.value=''\" value=\"3\"\u003E\n        \u003Clabel for=\"input_amount_0\"\u003E$3\u003C/label\u003E\n      \u003C/td\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_1\" onclick=\"document.paypalcontribution.amountGiven.value=''\" value=\"5\"\u003E\n        \u003Clabel for=\"input_amount_1\"\u003E$5\u003C/label\u003E\n      \u003C/td\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_2\" onclick=\"document.paypalcontribution.amountGiven.value=''\" value=\"10\"\u003E\n        \u003Clabel for=\"input_amount_2\"\u003E$10\u003C/label\u003E\n      \u003C/td\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_3\" onclick=\"document.paypalcontribution.amountGiven.value=''\" value=\"20\"\u003E\n        \u003Clabel for=\"input_amount_3\"\u003E$20\u003C/label\u003E\n      \u003C/td\u003E\n    \u003C/tr\u003E\n    \u003Ctr class=\"amount-options\"\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_4\" onclick=\"document.paypalcontribution.amountGiven.value=''\" value=\"30\"\u003E\n        \u003Clabel for=\"input_amount_4\"\u003E$30\u003C/label\u003E\n      \u003C/td\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_5\" onclick=\"document.paypalcontribution.amountGiven.value=''\" value=\"50\"\u003E\n        \u003Clabel for=\"input_amount_5\"\u003E$50\u003C/label\u003E\n      \u003C/td\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_6\" onclick=\"document.paypalcontribution.amountGiven.value=''\" value=\"100\"\u003E\n        \u003Clabel for=\"input_amount_6\"\u003E$100\u003C/label\u003E\n      \u003C/td\u003E\n      \u003Ctd\u003E\n        \u003Cinput type=\"radio\" name=\"amount\" id=\"input_amount_other\" value=\"Other\"\u003E\n        \u003Clabel for=\"input_amount_other\"\u003E\n          $\u003Cinput style=\"height: 1em;\" type=\"text\" name=\"amountGiven\" size=\"3\" autocomplete=\"off\" onfocus=\"this.form.input_amount_other.checked=true;\"\u003E\n        \u003C/label\u003E\n      \u003C/td\u003E\n    \u003C/tr\u003E\n    \u003Ctr class=\"paymentmethod-options\"\u003E\n      \u003Ctd colspan=\"4\"\u003E\n        \u003Cbutton class=\"paymentmethod-ideal no-monthly\" onclick=\"redirectPayment('rtbt', 'rtbt_ideal'); return false;\" style=\"display:none;\"\u003E\n          iDEAL\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-yandex no-monthly\" onclick=\"redirectPayment('ew', 'ew_yandex'); return false;\" style=\"display:none;\"\u003E\n          Yandex\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-cc\" onclick=\"redirectPayment('cc'); return false;\"\u003E\n          Credit Card\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-dd\" onclick=\"redirectPayment('dd'); return false;\" style=\"display:none;\"\u003E\n          Direct Debit\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-sofort no-monthly\" onclick=\"redirectPayment('rtbt', 'rtbt_sofortuberweisung'); return false;\" style=\"display:none;\"\u003E\n          Online Bank Transfer\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-pp\" onclick=\"redirectPayment('paypal'); return false;\"\u003E\n          PayPal\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-amazon no-monthly\" onclick=\"redirectPayment('amazon'); return false;\" style=\"display:none;\"\u003E\n          Amazon\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-bpay no-monthly\" onclick=\"redirectPayment('obt', 'bpay'); return false;\" style=\"display:none;\"\u003E\n          BPay\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-webmoney no-monthly\" onclick=\"redirectPayment('ew', 'ew_webmoney'); return false;\" style=\"display:none;\"\u003E\n          WebMoney\u003C/button\u003E\n        \u003Cbutton class='paymentmethod-boletos no-monthly' onclick=\"redirectPayment('cash', 'boleto'); return false;\" style=\"display:none;\"\u003E\n          Boleto\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-enets no-monthly\" onclick=\"redirectPayment('rtbt', 'rtbt_enets'); return false\" style=\"display:none;\"\u003E\n          eNETS\u003C/button\u003E\n        \u003Cbutton class=\"paymentmethod-pp-usd\" onclick=\"redirectPayment('paypal', undefined, true); return false;\" style=\"display: none;\"\u003E\n          PayPal (USD)\u003C/button\u003E\n      \u003C/td\u003E\n    \u003C/tr\u003E\n  \u003C/table\u003E\n\u003C/form\u003E\n        \u003Cspan id=\"B14_0101_control_enWW-close\" onclick=\"fundraisingBanner.hide();\"\u003E\u00a0\u003C/span\u003E\n      \u003C/td\u003E\n\n    \u003C/tr\u003E\n  \u003C/table\u003E\n\n  \u003Cp id=\"B14_0101_control_enWW-legal\"\u003E\n    \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Special:LandingCheck?basic=true\u0026amp;landing_page=Problems_donating\"\u003EProblems donating?\u003C/a\u003E | \n    \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Special:LandingCheck?basic=true\u0026amp;landing_page=Ways_to_Give\"\u003EOther ways to give\u003C/a\u003E | \n    \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Special:LandingCheck?landing_page=FAQ\u0026amp;basic=true\"\u003E\u003C/html\u003EFrequently asked questions\u003Chtml\u003E\u003C/a\u003E | \n    \u003Cspan class=\"informationsharing-US\" style=\"display: none;\"\u003E\nBy donating, you are agreeing to our \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Special:LandingCheck?basic=true\u0026amp;landing_page=Donor_policy\"\u003Edonor privacy policy\u003C/a\u003E. The Wikimedia Foundation is a nonprofit, \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Tax_Deductibility/en\"\u003Etax-exempt organization\u003C/a\u003E.\n\u003C/span\u003E\n\u003Cspan class=\"informationsharing-nonUS\"\u003E\nBy donating, you are agreeing to our \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Special:LandingCheck?basic=true\u0026amp;landing_page=Donor_policy\"\u003Edonor privacy policy\u003C/a\u003E and to sharing your information with the \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Special:LandingCheck?basic=true\u0026amp;landing_page=Tax_Deductibility\"\u003EWikimedia Foundation\u003C/a\u003E and its service providers in the U.S. and elsewhere.\n\u003C/span\u003E *Monthly payments will be debited by the Wikimedia Foundation until you notify us to stop. We'll send you an email receipt for each payment, which will include a link to \u003Ca class=\"localize\" target=\"_blank\" href=\"https://wikimediafoundation.org/wiki/Special:LandingCheck?landing_page=Cancel_or_change_recurring_payments\u0026basic=true\"\u003Eeasy cancellation instructions.\u003C/a\u003E\n  \u003C/p\u003E\n\n  \u003Cdiv id=\"B14_0101_control_enWW-nag\"\u003E\n    \u003Cspan class=\"B14_0101_control_enWW-nag-link\"\u003E\u003Cimg src=\"//upload.wikimedia.org/wikipedia/donate/3/37/Information-icon-yellow.png\" style=\"vertical-align: top;\"/\u003E If we all gave %MINIMUM%,\u003Cbr/\u003Ethe fundraiser would\u003Cbr/\u003Ebe over in an hour.\u003C/span\u003E\n    \u003Cspan class=\"B14_0101_control_enWW-nag-close\"\u003Ex\u003C/span\u003E\n  \u003C/div\u003E\n\n\u003C/div\u003E\n\n\u003Cscript\u003E\nvar fundraisingBanner = {};\n\nfundraisingBanner.addSpace = function() {\n  /* add space for the banner, and extra px if given below. called on load and window resize */\n  var extra = 0;\n  var bannerHeight = $('div#B14_0101_control_enWW').height();\n  $('#mw-panel').css('top', bannerHeight+160+extra);\n  $('#mw-head').css('top', bannerHeight+extra);\n  $('#mw-page-base').css('padding-top', bannerHeight+extra);\n  // js fudge for form height in IE\n  $('#B14_0101_control_enWW-form').height('100%');\n  $('#B14_0101_control_enWW-form').height($('#B14_0101_control_enWW-form-wrapper').height()); \n};\n\nfundraisingBanner.show = function() {\n  $('body').prepend($('#centralNotice'));\n  $('#B14_0101_control_enWW').css('display', 'block');\n  fundraisingBanner.addSpace();\n\n  $(window).resize(function() {\n    fundraisingBanner.addSpace();\n  });\n}\n\nfundraisingBanner.hide = function() {\n  /* hide the banner, and remove the extra space which was added for it */\n  hideBanner();\n  $('#mw-panel').css('top', '160px');\n  $('#mw-head').css('top', '0px');\n  $('#mw-page-base').css('padding-top', '0');\n  return false;\n};\n\nfundraisingBanner.showLegal = function() {\n  $('#B14_0101_control_enWW-legal').clearQueue().animate({\n    top: '0px'\n  });\n}\nfundraisingBanner.hideLegal = function() {\n  $('#B14_0101_control_enWW-legal').animate({\n    top: '-100px'\n  });  \n}\n\u003C/script\u003E\n\n\u003Cscript\u003E\n/**\n * NOTE: The following currency mapping is WMF-specific based on payment\n * provider availability, NOT the official currency of the country\n */\nfunction getCurrency(){\n    switch(Geo.country) {\n        // Big 5 at the top for speed\n        case \"US\": return \"USD\";\n        case \"CA\": return \"CAD\";\n        case \"GB\": return \"GBP\";\n        case \"AU\": return \"AUD\";\n        case \"NZ\": return \"NZD\";\n        // Euro countries\n        case \"AD\":\n        case \"AL\":\n        case \"AM\":\n        case \"AT\":\n        case \"AW\":\n        case \"AZ\":\n        case \"BA\":\n        case \"BE\":\n        case \"BY\":\n        case \"CI\":\n        case \"CY\":\n        case \"DE\":\n        case \"EE\":\n        case \"ES\":\n        case \"FI\":\n        case \"FR\":\n        case \"GF\":\n        case \"GR\":\n        case \"IE\":\n        case \"IT\":\n        case \"LU\":\n        case \"LV\":\n        case \"LY\":\n        case \"MC\":\n        case \"ME\":\n        case \"MG\":\n        case \"MT\":\n        case \"NL\":\n        case \"PT\":\n        case \"RE\":\n        case \"RS\":\n        case \"SI\":\n        case \"SK\":\n        case \"SM\":\n        case \"SR\":\n        case \"VA\":\n            return \"EUR\";\n        // The rest\n        case \"AE\": return \"AED\";\n        case \"AG\": return \"XCD\";\n        case \"AN\": return \"ANG\";\n        case \"AR\": return \"ARS\";\n        case \"BB\": return \"BBD\";\n        case \"BD\": return \"BDT\";\n        case \"BG\": return \"BGN\";\n        case \"BH\": return \"BHD\";\n        case \"BM\": return \"BMD\";\n        case \"BO\": return \"BOB\";\n        case \"BR\": return \"USD\";\n        case \"BZ\": return \"BZD\";\n        case \"CH\": return \"CHF\";\n        case \"CK\": return \"NZD\";\n        case \"CL\": return \"CLP\";\n        case \"CN\": return \"CNY\";\n        case \"CO\": return \"COP\";\n        case \"CR\": return \"CRC\";\n        case \"CZ\": return \"CZK\";\n        case \"DK\": return \"DKK\";\n        case \"DM\": return \"XCD\";\n        case \"DO\": return \"DOP\";\n        case \"DZ\": return \"DZD\";\n        case \"EG\": return \"EGP\";\n        case \"FJ\": return \"FJD\";\n        case \"FO\": return \"DKK\";\n        case \"GD\": return \"XCD\";\n        case \"GL\": return \"DKK\";\n        case \"GT\": return \"GTQ\";\n        case \"HK\": return \"HKD\";\n        case \"HN\": return \"HNL\";\n        case \"HR\": return \"HRK\";\n        case \"HU\": return \"HUF\";\n        case \"ID\": return \"IDR\";\n        case \"IL\": return \"ILS\";\n        case \"IN\": return \"INR\";\n        case \"JM\": return \"JMD\";\n        case \"JO\": return \"JOD\";\n        case \"JP\": return \"JPY\";\n        case \"KE\": return \"KES\";\n        case \"KI\": return \"AUD\";\n        case \"KN\": return \"XCD\";\n        case \"KR\": return \"KRW\";\n        case \"KZ\": return \"KZT\";\n        case \"LB\": return \"LBP\";\n        case \"LC\": return \"XCD\";\n        case \"LI\": return \"CHF\";\n        case \"LK\": return \"LKR\";\n        case \"LT\": return \"LTL\";\n        case \"MA\": return \"MAD\";\n        case \"MK\": return \"MKD\";\n        case \"MV\": return \"MVR\";\n        case \"MW\": return \"GBP\";\n        case \"MX\": return \"MXN\";\n        case \"MY\": return \"MYR\";\n        case \"NI\": return \"NIO\";\n        case \"NO\": return \"NOK\";\n        case \"NP\": return \"INR\";\n        case \"NR\": return \"AUD\";\n        case \"OM\": return \"OMR\";\n        case \"PA\": return \"PAB\";\n        case \"PE\": return \"PEN\";\n        case \"PG\": return \"AUD\";\n        case \"PH\": return \"PHP\";\n        case \"PK\": return \"PKR\";\n        case \"PL\": return \"PLN\";\n        case \"PY\": return \"PYG\";\n        case \"QA\": return \"QAR\";\n        case \"RO\": return \"RON\";\n        case \"RU\": return \"RUB\";\n        case \"SA\": return \"SAR\";\n        case \"SD\": return \"GBP\";\n        case \"SE\": return \"SEK\";\n        case \"SG\": return \"SGD\";\n        case \"TH\": return \"THB\";\n        case \"TM\": return \"RUB\";\n        case \"TR\": return \"TRY\";\n        case \"TT\": return \"TTD\";\n        case \"TW\": return \"TWD\";\n        case \"UA\": return \"UAH\";\n        case \"UY\": return \"UYU\";\n        case \"UZ\": return \"RUB\";\n        case \"VE\": return \"VEF\";\n        case \"VN\": return \"VND\";\n        case \"VU\": return \"AUD\";\n        case \"ZA\": return \"ZAR\";\n        // fall back to USD\n        default:\n            return \"USD\";\n    }\n}\n\u003C/script\u003E\n\u003Cscript\u003E\nfunction currencyLocalize(currency, amount, language){\n    // Do some basic number formatting - digit separators etc\n    if (window.Intl \u0026\u0026 typeof window.Intl === \"object\") {\n        var locale = language + '-' + Geo.country;\n        var formatter = new Intl.NumberFormat(locale);\n    } else {\n        // boo, bad browser! let's just have a thing that throws it back unformatted for now\n        var formatter = {};\n        formatter.format = function(number) {\n            return number.toString();\n        }\n    }\n    if (isNaN(amount) || amount == \"\") {\n        // it's probably the \"other\" string or box\n        var fmAmount = amount;\n    } else {\n        var fmAmount = formatter.format(amount);\n    }\n    // End number formatting\n\n    var currencies = {\n        \"USD\" : \"$\\t\",\n        \"EUR\" : {\n            \"en\" : \"\u20ac\\t\",\n            \"cy\" : \"\u20ac\\t\",\n            \"ga\" : \"\u20ac\\t\",\n            \"mt\" : \"\u20ac\\t\",\n            \"nl\" : \"\u20ac \\t\",\n            \"lv\" : \"\u20ac \\t\",\n            \"tr\" : \"\u20ac \\t\",\n            \"default\" : \"\\t \u20ac\"\n        },\n        \"AED\" : \" \u062f.\u0625 \\t\",\n        \"ANG\" : \"\u0192\\t\",\n        \"ARS\" : \"$\\t\",\n        \"AUD\" : \"$\\t\",\n        \"BDT\" : \"\\t\u09f3\",\n        \"BGN\" : \"\u043b\u0432\\t\",\n        \"BHD\" : \"\u062f.\u0628\\t\",\n        \"BMD\" : \"BD$\\t\",\n        \"BOB\" : \"$b\\t\",\n        \"BRL\" : \"R$\\t\",\n        \"CAD\" : {\n            \"fr\" : \"$\\t\",\n            \"default\" : \"$\\t\"\n        },\n        \"CHF\" : \"Fr. \\t\",\n        \"CLP\" : \"$\\t\",\n        \"CNY\" : \"\\t \u00a5\",\n        \"COP\" : \"$\\t\",\n        \"CRC\" : \"\\t \u20a1\",\n        \"CZK\" : \"\\t K\u010d\",\n        \"DKK\" : \"\\t kr\",\n        \"DOP\" : \"RD$\\t\",\n        \"DZD\" : \"\u062f.\u062c\\t\",\n        \"EEK\" : \"\\t kr\",\n        \"EGP\" : {\n            \"en\" : \"E\u00a3\\t\",\n            \"default\" : \"\\t \u062c\u0646\u064a\u0647\"\n        },\n        \"FJD\" : \"$\\t\",\n        \"GBP\" : \"\u00a3\\t\",\n        \"GTQ\" : \"Q\\t\",\n        \"HKD\" : \"$\\t\",\n        \"HNL\" : \"\\t L\",\n        \"HRK\" : \"\\t kn\",\n        \"HUF\" : \"\\t Ft\",\n        \"IDR\" : \"Rp \\t\",\n        \"ILS\" : \"\u20aa \\t\",\n        \"INR\" : \"Rs. \\t\",\n        \"JMD\" : \"J$ \\t\",\n        \"JOD\" : \"\u062f\u064a\u0646\u0627\u0631\\t\",\n        \"JPY\" : \"\u00a5\\t\",\n        \"KES\" : \"\\t KSh\",\n        \"KRW\" : \"\u20a9\\t\",\n        \"KWD\" : \"\u062f.\u0643 \\t\",\n        \"KZT\" : \"\u3012 \\t\", // TODO: don't use the JP postal code symbol once KZT works in unicode\n        \"LBP\" : \"LBP \\t\",\n        \"LKR\" : \"\\t Rs.\",\n        \"LTL\" : \"\\t Lt\",\n        \"LVL\" : \"\\t Ls\",\n        \"MAD\" : \"\u062f.\u0645.\\t\",\n        \"MKD\" : \"\\t \u0434\u0435\u043d\",\n        \"MOP\" : \"MOP$\\t\",\n        \"MUR\" : \"\\t Rs\",\n        \"MXN\" : \"$\\t\",\n        \"MVR\" : \"Rf. \\t\",\n        \"MYR\" : \"RM\\t\",\n        \"NIO\" : \"C$\\t\",\n        \"NOK\" : \"\\t kr\",\n        \"NZD\" : \"$\\t\",\n        \"OMR\" : \"\u0631.\u0639\\t\",\n        \"PAB\" : \"\\t B/.\",\n        \"PEN\" : \"\\t S/.\",\n        \"PHP\" : \"\u20b1\\t\",\n        \"PKR\" : \"Rs \\t\",\n        \"PLN\" : \"\\t z\u0142\",\n        \"PYG\" : \"\u20b2\\t\",\n        \"QAR\" : \"\u0631.\u0642\\t\",\n        \"RON\" : \"\\t lei\",\n        \"RUB\" : \"\\t \u0440\u0443\u0431\",\n        \"SAR\" : \"\ufdfc\\t\",\n        \"SCR\" : \"SR \\t\",\n        \"SEK\" : \"\\t kr\",\n        \"SGD\" : \"S$ \\t\",\n        \"SVC\" : \"\\t \u20a1\",\n        \"THB\" : \"\\t \u0e3f\",\n        \"TRY\" : \"\u20ba\\t\",\n        \"TTD\" : \"TT$\\t\",\n        \"TWD\" : \"NT$\\t\",\n        \"TZS\" : \"\\t/=\",\n        \"UAH\" : \"\u20b4\\t\",\n        \"UYU\" : \"$U \\t\",\n        \"UZS\" : \"\\t \u0441\u045e\u043c\",\n        \"VEF\" : \"Bs.F. \\t\",\n        \"VND\" : \"\\t\u20ab\",\n        \"VUV\" : \"VT\\t\",\n        \"XAF\" : \"FCFA\\t\",\n        \"XCD\" : \"EC$\\t\",\n        \"XOF\" : \"CFA \\t\",\n        \"XPF\" : \"\\t F\",\n        \"ZAR\" : \"R \\t\"\n    };\n    if(currencies[currency] == null){\n        return currency + \" \" + fmAmount;\n    }\n    if( currencies[currency] instanceof Object ){ // not a string\n        if(currencies[currency][language] != null){\n            return currencies[currency][language].replace(\"\\t\", fmAmount)\n        }\n        return currencies[currency][\"default\"].replace(\"\\t\", fmAmount)\n    }\n    return currencies[currency].replace(\"\\t\", fmAmount)\n}\n\u003C/script\u003E\n\u003Cscript\u003E\n\nfunction getMinimum(currency){\n    var minimums = {\n        'USD': 1,\n        'EUR': 1,\n        'AED': 4,\n        'ANG': 1.8,\n        'ARS': 4,\n        'AUD': 1,\n        'BBD': 2,\n        'BDT': 76,\n        'BGN': 1,\n        'BHD': 1,\n        'BMD': 1,\n        'BND': 1,\n        'BOB': 7,\n        'BRL': 2,\n        'BSD': 1,\n        'BZD': 2,\n        'CAD': 1,\n        'CHF': 1,\n        'CLP': 494,\n        'CNY': 6,\n        'COP': 1910,\n        'CRC': 512,\n        'CZK': 18,\n        'DKK': 5,\n        'DOP': 38,\n        'DZD': 73,\n        'EEK': 11,\n        'EGP': 6,\n        'FJD': 2,\n        'GBP': 1,\n        'GTQ': 8,\n        'HKD': 8,\n        'HNL': 19,\n        'HRK': 5,\n        'HUF': 219,\n        'IDR': 8960,\n        'ILS': 4,\n        'INR': 49,\n        'JMD': 85,\n        'JOD': 1,\n        'JPY': 78,\n        'KES': 97,\n        'KRW': 1127,\n        'KWD': 0.3,\n        'KYD': 1,\n        'KZT': 147,\n        'LBP': 1500,\n        'LKR': 110,\n        'LTL': 3,\n        'LVL': 1,\n        'MAD': 8,\n        'MKD': 45,\n        'MUR': 29,\n        'MVR': 16,\n        'MXN': 13,\n        'MYR': 3,\n        'NIO': 24,\n        'NOK': 6,\n        'NZD': 1,\n        'OMR': 0.3,\n        'PAB': 1,\n        'PEN': 3,\n        'PHP': 43,\n        'PKR': 86,\n        'PLN': 3,\n        'PYG': 4190,\n        'QAR': 4,\n        'RON': 3,\n        'RUB': 30,\n        'SAR': 4,\n        'SCR': 14,\n        'SEK': 7,\n        'SGD': 1.3,\n        'SVC': 9,\n        'THB': 30,\n        'TJS': 5,\n        'TND': 1,\n        'TRY': 2,\n        'TTD': 6,\n        'TWD': 30,\n        'TZS': 2000,\n        'UAH': 8,\n        'UYU': 19,\n        'UZS': 1810,\n        'VEF': 6,\n        'VND': 21000,\n        'VUV': 94,\n        'XAF': 470,\n        'XCD': 3,\n        'XOF': 476,\n        'XPF': 91,\n        'ZAR': 7.8\n    };\n\n    if($.inArray(currency, minimums)){\n        return minimums[currency];\n    }\n\n    return 1;\n}\n\u003C/script\u003E\n\u003Cscript\u003E\nfunction convertAsk(amount, currency, country) {\n    // given an amount in USD, find an \"equivalent\" amount for the given currency and country\n\n    var usdamount = parseInt(amount, 10);\n    if(isNaN(usdamount)){\n        return 0;\n    }\n \n    var usdbase = [3, 5, 10, 20, 30, 50, 100];\n \n    if(currency === 'USD'){\n        if(country === 'US'){\n            return usdamount;\n        }\n    }\n \n    var other = {\n        'EUR' : {\n            'default' : [3, 5, 10, 20, 30, 50, 100]\n        },\n        'GBP' : [3, 5, 10, 20, 30, 50, 100],\n        'CAD' : [3, 5, 10, 20, 30, 50, 100],\n        'AUD' : [3, 5, 10, 20, 30, 50, 100],\n        'NZD' : [3, 5, 10, 20, 30, 50, 100],\n        'INR' : [100, 200, 300, 500, 1000, 2000, 3000],\n        'JPY' : [1000, 1500, 2000, 3000, 5000, 10000, 15000],\n        'RUB' : [100, 150, 200, 500, 1000, 2000, 3000],\n        'BRL' : [10, 20, 30, 50, 100, 250, 500],\n        'SEK' : [50, 100, 150, 200, 500, 750, 1000],\n        'NOK' : [50, 100, 150, 200, 500, 750, 1000],\n        'ILS' : [20, 50, 100, 200, 300, 500, 1000],\n        'DKK' : [50, 100, 150, 200, 300, 500, 1000],\n        'SGD' : [3, 5, 10, 20, 30, 50, 100],\n        'HKD' : [20, 50, 100, 150, 200, 500, 1000],\n        'TWD' : [150, 300, 500, 1000, 1500, 2000, 5000],\n        'CNY' : [50, 75, 100, 300, 500, 1000, 1500],\n        'PLN' : [10, 20, 50, 100, 200, 300, 500],\n        'CZK' : [100, 200, 500, 1000, 2000, 3000, 4000],\n        'ZAR' : [20, 50, 100, 200, 300, 500, 1000],\n        'KRW' : [5000, 10000, 20000, 30000, 50000, 75000, 100000],\n        'TRY' : [5, 10, 20, 40, 50, 100, 200],\n        'SAR' : [20, 50, 100, 200, 500, 1000, 1500],\n        'THB' : [100, 250, 500, 750, 1000, 2000, 3000],\n        'HUF' : [500, 1000, 2000, 4000, 5000, 7000, 10000],\n        'IDR' : [50000, 75000, 100000, 150000, 200000, 500000, 1000000],\n        'ARS' : [20, 50, 100, 200, 500, 750, 1000],\n        'PHP' : [200, 500, 750, 1000, 2000, 3000, 5000],\n        'MXN' : [50, 100, 200, 500, 750, 1000, 2000],\n        'UYU' : [100, 200, 400, 1000, 1500, 1950, 5000],\n        'COP' : [5000, 10000, 20000, 50000, 100000, 150000, 200000],\n        'NIO' : [100, 250, 500, 1000, 1500, 2500, 5500],\n        'DOP' : [200, 500, 1000, 2000, 5000, 7500, 10000],\n        'UAH' : [50, 75, 150, 300, 500, 750, 1000],\n        'MYR' : [20, 30, 50, 100, 200, 300, 500],\n        'RON' : [25, 50, 75, 100, 200, 300, 500],\n        'BGN' : [10, 25, 50, 75, 100, 150, 200],\n        'HRK' : [35, 50, 100, 250, 500, 1000, 1500],\n        'QAR' : [20, 50, 75, 185, 250, 350, 1000],\n        'KWD' : [2, 5, 10,15, 25, 30, 75],\n        'LTL' : [15, 25, 50, 100, 200, 250, 600],\n        'KZT' : [750, 1500, 3000, 7500, 12000, 15000, 35000],\n        'CRC' : [2500, 5000, 10000, 20000, 50000, 75000, 100000],\n        'VEF' : [20, 30, 50, 100, 200, 300, 600],\n        'PEN' : [15, 30, 50, 150, 200, 275, 700],\n        'AED' : [25, 50, 100, 200, 300, 500, 1000],\n        'MKD' : [100, 200, 400, 800, 1400, 2000, 4000],\n        'VND' : [60000, 100000, 200000, 400000, 600000, 1000000, 2000000],\n        'CLP' : [1500, 2500, 5000, 10000, 15000, 25000, 50000],\n        'BHD' : [1, 2, 4, 8, 10, 20, 40],\n        'LBP' : [7500, 15000, 30000, 75000, 120000, 175000, 350000],\n        // the following USD ask strings are for countries in which we fundraise\n        // in USD, but that need a difference ask string than in the US\n        'USD' : {\n            'default' : usdbase\n        }\n    };\n \n \n    if (other[currency] == null) {\n        return usdamount;\n    }\n    var index = $.inArray(usdamount, usdbase);\n    if (index == -1) {\n        // the amount is not in the USD ask array, find a near neighbor\n        index = 0;\n        while (usdbase[index+1] \u003C usdamount \u0026\u0026 index \u003C usdbase.length + 1) {\n            index++;\n        }\n    }\n \n    if ( other[currency] instanceof Array ) { // simplest case, just one array for this currency\n        return other[currency][index];\n    } else { // arrays for multiple countries\n        if (other[currency][country] != null) {\n            return other[currency][country][index];\n        } else {\n            return other[currency]['default'][index];\n        }\n    }\n    \n};\n\nfunction getAverage(currency, country, language) {\n    // return a string of the \"average\" donation amount in the given currency \u0026 country for use in the banner text\n     var usdaverage = 15;\n\n     var average = {\n        'EUR' : {\n            'default' : 15\n        },\n        'GBP' : 10,\n        'CAD' : 15,\n        'AUD' : 15,\n        'NZD' : 15,\n        'INR' : 750,\n        'JPY' : 1500,\n        'RUB' : 500,\n        'BRL' : 25,\n        'SEK' : 100,\n        'NOK' : 100,\n        'ILS' : 50,\n        'DKK' : 100,\n        'SGD' : 20,\n        'HKD' : 100,\n        'TWD' : 500,\n        'CNY' : 100,\n        'PLN' : 50,\n        'CZK' : 250,\n        'ZAR' : 150,\n        'KRW' : 15000,\n        'TRY' : 25,\n        'SAR' : 50,\n        'THB' : 500,\n        'HUF' : 2500,\n        'IDR' : 150000,\n        'ARS' : 100,\n        'ISK' : 2000,\n        'PHP' : 600,\n        'CLP' : 8000,\n        'MXN' : 150,\n        'UYU' : 300,\n        'COP' : 30000,\n        'NIO' : 350,\n        'DOP' : 600,\n        'UAH' : 150,\n        'MYR' : 50,\n        'RON' : 50,\n        'BGN' : 20,\n        'HRK' : 80,\n        'QAR' : 50,\n        'KWD' : 5,\n        'LTL' : 40,\n        'KZT' : 2000,\n        'LVL' : 10,\n        'CRC' : 7500,\n        'VEF' : 100,\n        'BHD' : 6,\n        'PEN' : 40,\n        'OMR' : 5,\n        'EGP' : 100,\n        'PKR' : 1500,\n        'LBP' : 20000,\n        'TTD' : 100,\n        'RSD' : 1200,\n        'LKR' : 2000,\n        'MUR' : 500,\n        'NGN' : 2500,\n        'JOD' : 10,\n        'IQD' : 15000,\n        'BAM' : 20,\n        'GEL' : 25,\n        'GNF' : 100000,\n        'BSD' : 15,\n        'AMD' : 5000,\n        'MZN' : 50,\n        'ETB' : 250,\n        'ALL' : 1500,\n        'SBD' : 100,\n        'BND' : 20,\n        'MOP' : 100,\n        'AZN' : 10,\n        'GTQ' : 150,\n        'KES' : 1000,\n        'PYG' : 60000,\n        'JMD' : 1500,\n        'HNL' : 300,\n        'BMD' : 15,\n        'MAD' : 120,\n        'CHF' : 15,\n        'AED' : 50,\n        'MKD' : 700,\n        'VND' : 300000,\n        'USD' : {\n            'default' : usdaverage\n        }\n    };\n\n    if (average[currency] == null) {\n        return currencyLocalize('USD', usdaverage, language); // fallback to usd value if not defined\n    }\n\n    if ( typeof(average[currency]) === 'number' ) { // simplest case, single average for currency\n        return currencyLocalize(currency, average[currency], language);\n    } else { // different averages for different countries\n        if (average[currency][country] != null) {\n            return currencyLocalize(currency, average[currency][country], language);\n        } else {\n            return currencyLocalize(currency, average[currency]['default'], language);\n        }\n    }\n\n};\n\nfunction getMinimumString(currency, country, language) {\n    // return a string of the \"if everyone\" donation amount in the given currency \u0026 country for use in the banner text\n    // 2014-01-01: simplified to just return the first of the options\n\n    return currencyLocalize(currency, convertAsk(3, currency, country), language);\n\n}\n\u003C/script\u003E\n\u003Cscript\u003E\nvar getQuerystring = function(key) {\n    key = key.replace( /[\\[]/, '\\\\\\[' ).replace( /[\\]]/, '\\\\\\]' );\n    var regex = new RegExp( '[\\\\?\u0026]' + key + '=([a-zA-Z0-9\\_\\-]*)' );\n    var qs = regex.exec( window.location.search );\n    return qs == null ? '' : qs[1];\n};\n \nvar bannerChooseRandom = function(choiceString) {\n    var choices = choiceString.split(',');\n    if ( choices.length ) {\n        return choices[Math.floor( Math.random() * choices.length )].replace(/^\\s+|\\s+$/, '');\n    }\n    return '';\n};\n \n$(document).ready( function () {\n\n    if(getQuerystring('country') != '') {\n        Geo.country = getQuerystring('country');\n    }\n\n    $(\"a.localize\").each(\n        function(index){\n            var url = $(this).attr(\"href\");\n            if( url.indexOf(\"?\") == -1 ){\n                url = url + \"?\"\n            } else {\n                url = url + \"\u0026\"\n            }\n            $(this).attr(\"href\", url + \"country=\" + Geo.country + \"\u0026language=\" + mw.config.get('wgUserLanguage')\n                + \"\u0026uselang=\" + mw.config.get('wgUserLanguage'));\n        }\n    );\n\n    if (Geo.country === 'US') {\n        $('.informationsharing-US').show();\n        $('.informationsharing-nonUS').hide();\n    }\n     \n    if ( wgCanonicalSpecialPageName != \"CentralNotice\" \u0026\u0026 wgCanonicalSpecialPageName != \"NoticeTemplate\" ){\n        var language = mw.config.get('wgUserLanguage'),\n            currency = getCurrency(Geo.country);\n     \n        // PLEASE DON'T COMMENT OUT THE FOLLOWING, FEEL FREE TO NOT USE IT IN SOME BANNER, BUT MANY BANNERS RELY ON THIS\n        $(\"div#B14_0101_control_enWW p, #B14_0101_control_enWW-nag\").each(function(index){\n            var re = new RegExp(/\\$([0-9]+)/g),\n                origText = $(this).html(),\n                val, newval;\n     \n            val = re.exec(origText);\n            while( val != null){\n                newval = currencyLocalize(currency, convertAsk(val[1], currency, language), language);\n                $(this).html( $(this).html().replace(val[0], newval) );\n                val = re.exec(origText);\n            }\n        });\n\n        // find instances of %AVERAGE% in banner text, and replace with correct average for currency \u0026 country\n        $(\"div#B14_0101_control_enWW\").each(function(index){\n            var newtext = $(this).html().replace(/%AVERAGE%/g, getAverage(currency, Geo.country, language));\n            $(this).html(newtext);\n        });\n\n        // find instances of %MINIMUM% in banner text, and replace with correct minimum for currency \u0026 country\n        $(\"div#B14_0101_control_enWW\").each(function(index){\n            var newtext = $(this).html().replace(/%MINIMUM%/g, getMinimumString(currency, Geo.country, language));\n            $(this).html(newtext);\n        });\n\n    }\n\n});\n\u003C/script\u003E\n\u003Cscript\u003E\n/**\n * Core code for forms in banners.\n * Handles showing the correct payment methods, validating input, and sending on to payments wiki.\n * (Note that localizing amount options is done elsewhere, in BannerFormAmountOptions.js)\n *\n * Dependencies: FR2013/Resources/CurrencyMinimums.js\n *               FR2013/Resources/Country2Currency.js\n */\n \nfunction checkPaymentOutages() {\n    /*  Check against the scheduled payment method outages below\n     *  and hide the relevant button for any which are ongoing.\n     */\n    /* Note that in JavaScript dates the months (and only the months) start at 0.\n * Jan=0, Feb=1, Mar=2 etc.\n * How hateful */\nvar outages = [\n{\n    start:      new Date(Date.UTC(2014, 1, 9, 1)), \n    end:        new Date(Date.UTC(2014, 1, 9, 7)),\n    method:     \"ideal\"\n},\n{\n    start:      new Date(Date.UTC(2014, 1, 8, 13)), \n    end:        new Date(Date.UTC(2014, 1, 8, 15)),\n    method:     \"ideal\"\n},\n{\n    start:      new Date(Date.UTC(2014, 1, 17, 3)), \n    end:        new Date(Date.UTC(2014, 1, 17, 3, 20)),\n    method:     \"ideal\"\n}\n];\n    var now = new Date();\n\n    for (var i = outages.length - 1; i \u003E= 0; i--) {\n        if ( now \u003E outages[i]['start'] \u0026\u0026 now \u003C outages[i]['end'] ) {\n            if (outages[i]['country'] === undefined || outages[i]['country'] == Geo.country) {\n                $('.paymentmethod-' + outages[i]['method']).hide();\n            }\n        }\n    };\n}\n\nfunction validateForm(form) {\n    var error = true;\n \n    // Get amount selection\n    var amount = null;\n    for (var i = 0; i \u003C form.amount.length; i++) {\n        if (form.amount[i].checked) {\n            amount = form.amount[i].value;\n        }\n    }\n    if (form.amountGiven.value != '') {\n        var otherAmount = form.amountGiven.value;\n        otherAmount = otherAmount.replace(/[,.](\\d)$/, '\\:$10');\n        otherAmount = otherAmount.replace(/[,.](\\d)(\\d)$/, '\\:$1$2');\n        otherAmount = otherAmount.replace(/[\\$,.]/g, '');\n        otherAmount = otherAmount.replace(/:/, '.');\n        form.amountGiven.value = otherAmount;\n        amount = otherAmount;\n    }\n    // Check amount is a real number\n    error = ( amount == null || isNaN(amount) || amount.value \u003C= 0 );\n    // Check amount is at least the minimum\n    var currency = form.currency_code.value;\n    if (amount \u003C getMinimum(currency) || error) {\n        alert('You must contribute at least $1'.replace('$1', getMinimum(currency) + ' ' + currency));\n        error = true;\n    }\n    return !error;\n}\n \nfunction redirectPayment(paymentMethod, paymentSubMethod, skipValidation) {\n    if (typeof paymentSubMethod == 'undefined'){\n        paymentSubMethod = '';\n    }\n    var form = document.paypalcontribution; // we should really change this some day\n    var language = $(\"input[name='language']\").val();\n \n    var paymentsURL = 'https://payments.wikimedia.org/index.php/Special:GatewayFormChooser';\n \n    var params = {\n        'uselang' : language,\n        'language' : language,\n        'currency' : $(\"input[name='currency_code']\").val(),\n        'country' : $(\"input[name='country']\").val(),\n        'paymentmethod' : paymentMethod\n    };\n    if( paymentSubMethod != '' ){\n        params['submethod'] = paymentSubMethod;\n    }\n \n    // Testing for Adyen\n    if( paymentMethod === 'adyen-cc' ) {\n      paymentMethod = 'cc';\n      params.paymentmethod = 'cc';\n      params.gateway = 'adyen';\n    }\n \n    var frequency = $(\"input[name='frequency']:checked\").val();\n    if( frequency !== 'monthly' ){\n        frequency = 'onetime';\n    } else {\n        params['recurring'] = 'true';\n        // the following line is both obsolete, and is causing errors.\n        // paymentMethod = 'r' + paymentMethod;\n    }\n \n    form.action = paymentsURL + '?' + $.param(params);\n    form.utm_source.value = 'B14_0101_control_enWW.no-LP' + '.' + paymentMethod;\n    form.payment_method.value = paymentMethod;\n    if( paymentSubMethod != '' ){\n        form.payment_method.value = form.payment_method.value + '.' + paymentSubMethod;\n    }\n \n    if (skipValidation || validateForm(document.paypalcontribution)) {\n        form.submit();\n    }\n}\n \nfunction toggleMonthly( monthly ){\n    if( monthly.type === 'checkbox' ){\n        monthly = monthly.checked;\n    } \n    if (monthly) {\n        $('#B14_0101_control_enWW-form').addClass('form-monthly');\n    } else {\n        $('#B14_0101_control_enWW-form').removeClass('form-monthly');\n    }\n}\n \n$(document).ready( function () {\n    if ( wgCanonicalSpecialPageName != \"CentralNotice\" \u0026\u0026 wgCanonicalSpecialPageName != \"NoticeTemplate\" ) {\n        mw.centralNotice.events.bannerLoaded.done(function(e){\n            $('[name=\"paypalcontribution\"]').append($('\u003Cinput\u003E', {\n                'type': 'hidden', 'name': 'utm_key', 'value': (mw.centralNotice.bannerData.cookieCount || 0) + 1\n            }));\n        });\n \n        var currency = getCurrency(Geo.country);\n        var language = mw.config.get('wgUserLanguage');\n \n        // hide CC or PP buttons anywhere we need to\n        var noCC = [];\n        if ($.inArray(Geo.country, noCC) != -1) {\n            $(\".paymentmethod-cc\").remove();\n        }\n        var noPP = ['IN', 'RU', 'SG', 'AE', 'QA'];\n        if ($.inArray(Geo.country, noPP) != -1){\n            $(\".paymentmethod-pp\").remove();\n        }\n\n        // countries where PP must be in USD\n        var ppUSD = ['BG', 'HR', 'LT', 'MK', 'RO', 'UA', 'SA', 'CN', 'ID', 'KR', 'KZ', 'MY', 'VN', 'AR', 'CL', 'DO', 'CO', 'NI', 'UY', 'ZA', 'BH', 'LB', 'VE', 'TR'];\n        if ($.inArray(Geo.country, ppUSD) != -1){\n            $(\".paymentmethod-pp\").remove();\n            $(\".paymentmethod-pp-usd\").show();\n        }\n \n        // can't do monthly credit card in India\n        if (Geo.country === 'IN') {\n            $(\".paymentmethod-cc\").addClass(\"no-monthly\");\n        }\n \n        // show any extra local payment methods, or remove them if not needed\n        var extrapaymentmethods = {\n            'amazon' : ['US'],\n            'bpay' : ['AU'],\n            'ideal' : ['NL'],\n            'yandex' : ['RU'],\n            'webmoney' : ['RU'],\n            'dd' : ['AT', 'DE', 'ES', 'NL'],\n            // 'boletos' : ['BR'],\n            'enets' : ['SG'],\n            'sofort' : []\n        };\n \n        for (var method in extrapaymentmethods) {\n            var $methodbutton = $('.paymentmethod-' + method);\n \n            if ($.inArray(Geo.country, extrapaymentmethods[method]) != -1) { // country is in the list\n                $methodbutton.show();\n            } else {\n                $methodbutton.remove();\n            }\n        }\n        \n        checkPaymentOutages();\n \n        // set the form fields\n        $(\"input[name='country']\").val(Geo.country);\n        $(\"input[name='currency_code']\").val(currency);\n        $(\"input[name='language']\").val(mw.config.get('wgUserLanguage'));\n        $(\"input[name='return_to']\").val(\"Thank_You/\" + mw.config.get('wgUserLanguage'));\n \n        // handle pressing Enter on \"Other\" field\n        $('input[name=\"amountGiven\"]').keydown(function(e){\n            if (e.keyCode == 13) {\n                e.preventDefault();\n                redirectPayment('cc'); // use credit card by default. Might be nice to have different defaults for some countries, but this will do for now.\n                return false;\n            }\n        });\n \n        // if there are no recurring payment methods available, disable the \"monthly\" radio button.\n        if ( !$('#B14_0101_control_enWW-form *[class^=\"paymentmethod-\"]:not(.no-monthly)').length ) {\n            $('#frequency_monthly').prop('disabled', 'disabled');\n        }\n    }\n});\n\u003C/script\u003E\n\u003Cscript\u003E\n/**\n * Localize amount options in banner forms.\n *\n * Dependencies: FR2013/Resources/Country2Currency.js\n *               FR2013/Resources/CurrencyLocalize.js\n */\n\n$(document).ready( function () {\n\n    var currency = getCurrency(Geo.country);\n    var language = mw.config.get('wgUserLanguage');\n\n    // do fun things to localize currency in the banner and form\n    $(\"input[name='amount']\").each(function(index){\n        var id = $(this).attr(\"id\");\n        var $label = $(\"label[for='\" + id + \"']\");\n        if(id.indexOf(\"other\") == -1){\n            var amount = convertAsk($(this).val(), currency, Geo.country);\n            $(this).val(amount);\n            $label.text(currencyLocalize(currency, amount, language));\n        } else {\n            // put on correct side of \"other\" input field\n            $label.html( currencyLocalize(\n                currency,\n                $label.html().replace('$',''), // strip the $ sign already on there\n                language)\n            );\n        }\n    });\n\n});\n\u003C/script\u003E\n\n\u003Cscript\u003E\n$(document).ready(function() {\n  /* code for \"nag\" box */\n  $(window).scroll(function() {\n    if ($(window).scrollTop() \u003E 160) {\n      $('#B14_0101_control_enWW-nag').css('display', 'block');\n    } else {\n      $('#B14_0101_control_enWW-nag').css('display', 'none');      \n    }\n  });\n\n  $('.B14_0101_control_enWW-nag-close').click(function(event) {\n    $('#B14_0101_control_enWW-nag').remove();\n    event.stopPropagation();\n  });\n  \n  $('#B14_0101_control_enWW-nag').click(function() {\n    window.scrollTo(0,0);\n  });\n  /* end code for nag box */\n\n  $('#B14_0101_control_enWW').mouseenter(fundraisingBanner.showLegal);\n  $('#B14_0101_control_enWW').mouseleave(fundraisingBanner.hideLegal);\n\n  if (!mw.centralNotice.bannerData.hideResult) {\n    fundraisingBanner.show();\n  }\n\n});\n\u003C/script\u003E","campaign":"C14_enWW_frm_FR","category":"fundraising","autolink":0,"landingPages":[""],"priority":1} );