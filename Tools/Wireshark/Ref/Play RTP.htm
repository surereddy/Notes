<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0065)http://www.ethereal.com/lists/ethereal-users/200401/msg00264.html -->
<!-- MHonArc v2.6.10 --><!--X-Subject: Re: [Ethereal&#45;users] Question regarding voice playback and G.726&#45;32k --><!--X-From-R13: "[negva Drtare" <znegva.ertareNpuryyb.fr> --><!--X-Date: Sat, 31 Jan 2004 10:20:00 &#45;0600 (CST) --><!--X-Message-Id: 003301c3e816$115dcb70$a68c59d5@SMART --><!--X-Content-Type: text/plain --><!--X-Reference: Law9&#45;F123S1NsB90mj100025b87@hotmail.com --><!--X-Head-End--><?xml version="1.0" encoding="UTF-8"?><HTML 
lang=en xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>Ethereal: Re: [Ethereal-users] Question regarding voice playback and G.726-32k</TITLE>
<META http-equiv=Content-Type content="text/html; charset=gb2312">
<STYLE type=text/css media=all>@import url( ../../../mm/css/ethereal-3-0.css );
</STYLE>
<ETHEREAL:EXTRA-HEADERS>
<META content="MSHTML 6.00.2900.5764" name=GENERATOR></HEAD>
<BODY>
<DIV class=top>
<TABLE cellSpacing=0 cellPadding=0 width="100%" summary="" border=0>
  <TBODY>
  <TR>
    <TD vAlign=center width=1><A href="http://www.ethereal.com/"><IMG 
      class=logo title="Ethereal home" alt="" 
      src="Play RTP.files/elogo-64-trans.gif"></IMG></A> </TD>
    <TD vAlign=center align=left>
      <H2>Ethereal</H2>
      <H5 style="WHITE-SPACE: nowrap">Re: [Ethereal-users] Question regarding 
      voice playback and G.726-32k</H5></TD>
    <TD align=right>
      <TABLE style="MARGIN-RIGHT: 10px" cellSpacing=0 cellPadding=0 summary="" 
      border=0>
        <TBODY>
        <TR>
          <TD align=right colSpan=2><!-- SiteSearch Google -->
            <FORM action=http://www.google.com/custom method=get target=_top>
            <TABLE 
            style="BORDER-RIGHT: #663 2px solid; BORDER-TOP: #663 2px solid; MARGIN: 10px 5px 5px; BORDER-LEFT: #663 2px solid; BORDER-BOTTOM: #663 2px solid" 
            bgColor=#ffffff summary="" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top noWrap align=left height=32><A 
                  href="http://www.google.com/"><IMG alt=Google 
                  src="Play RTP.files/Logo_25wht.gif" border=0></IMG></A> </TD>
                <TD noWrap><INPUT type=hidden value=Ethereal.com 
                  name=domains></INPUT> <INPUT maxLength=255 size=31 
                  name=q></INPUT> 
                  <INPUT type=submit value=Search name=sa></INPUT> </TD></TR>
              <TR>
                <TD>&nbsp;</TD>
                <TD noWrap>
                  <TABLE summary="">
                    <TBODY>
                    <TR>
                      <TD><INPUT type=radio value="" name=sitesearch></INPUT> 
                        <FONT color=#000000 size=-1>Web</FONT> </TD>
                      <TD><INPUT type=radio CHECKED value=Ethereal.com 
                        name=sitesearch></INPUT> <FONT color=#000000 
                        size=-1>Ethereal.com</FONT> </TD></TR></TBODY></TABLE><INPUT 
                  type=hidden value=pub-2309191948673629 name=client></INPUT> 
                  <INPUT type=hidden value=1 name=forid></INPUT> <INPUT 
                  type=hidden value=ISO-8859-1 name=ie></INPUT> <INPUT 
                  type=hidden value=ISO-8859-1 name=oe></INPUT> <INPUT 
                  type=hidden 
                  value=GALT:#000000;GL:1;DIV:#CCCC99;VLC:000000;AH:center;BGC:FFFFFF;LBGC:CCCC99;ALC:000000;LC:000000;T:000000;GFNT:66CCCC;GIMP:66CCCC;LH:64;LW:64;L:http://staging.ethereal.com/mm/image/elogo-64-trans.gif;S:http://www.ethereal.com;LP:1;FORID:1; 
                  name=cof></INPUT> <INPUT type=hidden value=en name=hl></INPUT> 
                </TD></TR></TBODY></TABLE></FORM><!-- SiteSearch Google --></TD></TR></TBODY></TABLE>
      <DIV></DIV></TD></TR></TBODY></TABLE></DIV>
<DIV class=sitebar>
<P><A href="http://www.ethereal.com/">Home</A> <SPAN class=sitebarsep>|</SPAN> 
<A href="http://www.ethereal.com/introduction.html">Introduction</A> <SPAN 
class=sitebarsep>|</SPAN> <A 
href="http://www.ethereal.com/docs/">Documentation</A> <SPAN 
class=sitebarsep>|</SPAN> <A href="http://www.ethereal.com/lists/">Lists</A> 
<SPAN class=sitebarsep>|</SPAN> <A 
href="http://www.ethereal.com/faq.html">FAQ</A> <SPAN class=sitebarsep>|</SPAN> 
<A href="http://www.ethereal.com/development.html">Development</A> <SPAN 
class=sitebarsep>|</SPAN> <A href="http://wiki.ethereal.com/">Wiki</A> <SPAN 
class=sitebarsep>|</SPAN> <A href="http://bugs.ethereal.com/">Bugs</A> 
</P></DIV>
<DIV class=navbar>
<P><A 
href="http://www.ethereal.com/lists/ethereal-users/200401/maillist.html">Main 
Index</A> <SPAN class=navbarsep>|</SPAN> <A 
href="http://www.ethereal.com/lists/ethereal-users/200401/threads.html">Thread 
Index</A> <SPAN class=navbarsep>|</SPAN> <A 
href="http://www.ethereal.com/lists/">Mailing Lists</A> <SPAN 
class=navbarsep>|</SPAN> <SPAN class=navbarsep>|</SPAN> <A 
href="http://www.ethereal.com/lists/ethereal-users/200401/msg00263.html">Date 
Prev</A> <SPAN class=navbarsep>|</SPAN> <A 
href="http://www.ethereal.com/lists/ethereal-users/200401/msg00265.html">Date 
Next</A> <SPAN class=navbarsep>|</SPAN> <A 
href="http://www.ethereal.com/lists/ethereal-users/200401/msg00219.html">Thread 
Prev</A> <SPAN class=navbarsep>|</SPAN> <A 
href="http://www.ethereal.com/lists/ethereal-users/200401/msg00220.html">Thread 
Next</A> </P></DIV><!-- Begin Ad 728x90 -->
<DIV class=adblock>
<SCRIPT language=JavaScript src="" type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript type=text/javascript>
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("http://ads.ethereal.com/ads/adjs.php?n=" + phpAds_random);
   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</SCRIPT>
<NOSCRIPT><A href="http://ads.ethereal.com/ads/adclick.php?n=a35dd4ee" 
target=_blank><IMG alt="" src="" border=0></A></NOSCRIPT> </DIV><!-- End Ad --><!--X-Body-Begin--><!--X-User-Header--><!--X-User-Header-End--><!--X-TopPNI--><!-- No TopLinks --><!--X-TopPNI-End--><!--X-MsgBody--><!--X-Subject-Header-Begin-->
<DIV class=block><A name=lists>
<H2 class=headerline>Ethereal-users: January 2004</H2></A>
<P><!--X-Subject-Header-End--><!--X-Head-of-Message-->
<UL>
  <LI><EM>Subject</EM>: Re: [Ethereal-users] Question regarding voice playback 
  and G.726-32k 
  <LI><EM>From</EM>: "Martin Regner" &lt;<A 
  href="mailto:martin.regner@DOMAIN.HIDDEN">mailto:martin.regner@DOMAIN.HIDDEN</A>&gt; 

  <LI><EM>Date</EM>: Sat, 31 Jan 2004 17:19:56 +0100 </LI></UL><!--X-Head-of-Message-End--><!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End--><!--X-Body-of-Message--><PRE>Dave Smith:
&gt; Are there any tentative plans to support exporting RTP sessions into .au
&gt; files using other codecs such as G.726?   If not, can anyone point me to a
&gt; way to convert these RTP sessions to an external program which will do
this
&gt; task for me?

I don't know if someone has any plans to introduce support for G.726 codec.

The problem with many codecs is that there are patent/license issues that I
think can make it difficult/impossible to introduce support
for several normal codecs (e.g. G.723.1 and G.729) in a GTK licensed program
such as Ethereal.

I don't know so much about G.726 codec, but it seems that openh323 software
is supporting G.726 codec and it actually seems that the source code files
g726_16.c, g726_24.c, g726_32.c and g726_40.c are available for unrestricted
use.

According to <A href="http://www.iana.org/assignments/rtp-parameters">http://www.iana.org/assignments/rtp-parameters</A>  G.726-32 codec
is using dynamic payload types (or can it also be static payload type 2,
G.721?) which makes it impossible to determine what codec is used just based
on the RTP packet content which makes it a bit more complicated to add
support for G.726 in RTP Analysis.

Another alternative could be to save the RTP stream in rtpdump format
(Analyze/Statistics/RTP Streams/Show all.../Save as..) and
use e.g. rtpplay to send the RTP stream towards some program that supports
G.726-32 codec and can listen for RTP packets on
a certain port. QuickTime Player can listen on a specific port (or specific
ports) by using an sdp-file (but this only works for the codecs that are
suported in QuickTime).

I don't know if QuickTime Player supports G.726-32k (and exactly what you
would need to write in the sdp-file if G726 is supported)
This document says Quicktime supports ADPCM at least, but I don't know that
that could mean that G.721/G.726-32 is supported.
<A href="http://www.isholf.is/klipklap/quicktime/">http://www.isholf.is/klipklap/quicktime/</A>

Below is a short summary how you can use QuickTime Player together with
rtpplayer to replay audio and video.
I have used this method for H.263-2000 video, H.261 video, PCMU audio, PCMA
audio, AMR audio and some other codes.

You can experiment with the Avican sample files if you want (H.261 video and
PCMU audio RTP packets in libpcap compatible files):
 <A href="http://netgroup-serv.polito.it/avican/examples/index.htm">http://netgroup-serv.polito.it/avican/examples/index.htm</A>


1) Install QuickTime player

2) Download rtptools  <A href="http://www.cs.columbia.edu/IRT/software/rtptools/">http://www.cs.columbia.edu/IRT/software/rtptools/</A>

3) Prepare an *.sdp file for the codecs/payloadtypes/ports you want to use
(the other information in the SDP-file seems not to be important).
I have put in a sample below of the SDP-file I used when testing with the
Avican sample files.

4) Prepare rtpdump files with Ethereal (Analyze/Statistics/RTP Streams/Show
all.../Save as..) for the two streams.
  You'll have to use Decode As..  to decode port 5000 and 6000 as RTP in
this specific case.

5) Start up Quicktime Player and use File/Open Movie in New Player...  and
select the sdp-file you prepared
(or it might be enough to double click on the SDP-file if sdp files are
asociated with QuickTime Player)

6) use rtpplay to send the RTP packets (audio and/or video) towards your own
ip-address on the port numbers used in the SDP-file:
&lt;rtpplay -T -f audioPCMU_0.rtp 127.0.0.1/5000
you will need two shells in order to send both audio and video
&lt;rtpplay -T -f videoH261_31.rtp 127.0.0.1/5002

7) You'll have to close the QuickTime player window between each time you
start again with sending media towards Quick Time Player
(I guess this is because it expects the packets to come in sequence order).

PS! It should also be possible to use JMF JMStudio as an alternative to
QuickTime Player in this case since JMStudio also supports both H.261 and
PCMU.
You will not use a sdp file then (and thus it is not possible to use this
method for dynamic payload types).
You use the menu alternative File/Open RTP Session... and specify the port
to listen on (the easiest is to use the same port for both audio and video)
and
send the RTP packets to that port with rtpplay.

-------------- testfile.sdp ---------------------------------
v=0

o=mhandley 2890844526 2890842807 IN IP4 10.10.10.10

s=SDPTest

i=SDP file for G711 audio on port 5000 and H261 video on port 5002

c=IN IP4 10.10.10.10

t=0

m=audio 5000 RTP/AVP 0 8

a=rtpmap:0 PCMU/8000

a=rtpmap:8 PCMA/8000

m=video 5002 RTP/AVP 31

a=rtpmap:31 H261/90000

------------------------------------------------


</PRE><!--X-Body-of-Message-End--><!--X-MsgBody-End--><!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End--><!--X-References-->
<UL>
  <LI><STRONG>References</STRONG>: 
  <UL>
    <LI><STRONG><A 
    href="http://www.ethereal.com/lists/ethereal-users/200401/msg00219.html" 
    name=00219>[Ethereal-users] Question regarding voice playback and 
    G.726-32k</A></STRONG> 
    <UL>
      <LI><EM>From:</EM> Dave Smith</LI></UL></LI></UL></LI></UL><!--X-References-End--><!--X-BotPNI-->
<UL>
  <LI>Prev by Date: <STRONG><A 
  href="http://www.ethereal.com/lists/ethereal-users/200401/msg00263.html">[Ethereal-users] 
  hostname substitued in trace for ip without using DNS</A></STRONG> 
  <LI>Next by Date: <STRONG><A 
  href="http://www.ethereal.com/lists/ethereal-users/200401/msg00265.html">Re: 
  [Ethereal-dev] Re: [Ethereal-users] Product performs differently than 
  documentation.</A></STRONG> 
  <LI>Previous by thread: <STRONG><A 
  href="http://www.ethereal.com/lists/ethereal-users/200401/msg00219.html">[Ethereal-users] 
  Question regarding voice playback and G.726-32k</A></STRONG> 
  <LI>Next by thread: <STRONG><A 
  href="http://www.ethereal.com/lists/ethereal-users/200401/msg00220.html">[Ethereal-users] 
  Sample captures? (GPRS/GSM/SS7/UMTS/ALCAP/RANAP)</A></STRONG> 
  <LI>Index(es): 
  <UL>
    <LI><A 
    href="http://www.ethereal.com/lists/ethereal-users/200401/maillist.html#00264"><STRONG>Date</STRONG></A> 

    <LI><A 
    href="http://www.ethereal.com/lists/ethereal-users/200401/threads.html#00264"><STRONG>Thread</STRONG></A> 
    </LI></UL></LI></UL><!--X-BotPNI-End--><!--X-User-Footer--><!--X-User-Footer-End-->
<P></P></DIV>
<P><SMALL>Powered by <A href="http://www.mhonarc.org/">MHonArc</A> 2.6.10 
</SMALL></P>
<DIV class=footer>Please send support questions about Ethereal to the <A 
href="mailto:ethereal-users[AT]ethereal.com">ethereal-users[AT]ethereal.com</A> 
mailing list.<BR>For corrections/additions/suggestions for this web page (and 
<B>not</B> Ethereal support questions), please send email to <A 
href="mailto:ethereal-web[AT]ethereal.com">ethereal-web[AT]ethereal.com</A>.<BR>Last 
modified: Fri, November 10 2006. <BR>"Ethereal" and the "e" logo are registered 
trademarks of Ethereal, Inc. </DIV></BODY></HTML>
